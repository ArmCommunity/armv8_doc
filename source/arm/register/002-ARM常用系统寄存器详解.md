## ARM常用系统寄存器详解

><font color=blue size=4>PSTATE：</font>程序状态寄存器
><br>
<font color=blue size=4>SP_ELx(x>0)：</font>在EL1/EL2/EL3 level中，如果spsel=0，则使用SP_ELx(x>0)
<font color=blue size=4>SP_EL0 ：</font>在所有level中，如果spsel=1, 则使用SP_EL0
><br>
<font color=blue size=4>SPSR ：</font>save program status register 备份的程序状态寄存器
><br>
<font color=blue size=4>ELR_ELx(x>0)：</font>异常链接寄存器，记录着异常时程序的返回地址
><br>
<font color=blue size=4>ESR_ELx(x>0) ：</font>同步异常, 异常特征寄存器
<font color=blue size=4>FAR_ELx(x>0)：</font> 同步异常, 异常时的错误地址
><br>
<font color=blue size=4>VBAR_ELx(x>0)：</font> 向量表基地址寄存器
><br>
<font color=blue size=4>TTBRn_ELx(n=1,2、x>0)：</font> 地址翻译基地址寄存器
<font color=blue size=4>MAIR_ELx(x>0) ：</font>内存属性寄存器
><br>
<font color=blue size=4>PAR_EL1：</font> 物理地址寄存器, 当使用指令操作MMU进行VA到PA的转换时，物理地址由PAR_EL1输出.
><br>
<font color=blue size=4>SCR_EL3 ：</font>安全配置寄存器
<font color=blue size=4>SCTLR_ELx(x>0）：</font> 系统控制寄存器
<font color=blue size=4>TCR_ELx(x>0)：</font> 地址翻译控制寄存器


#### 1、PSTATE

##### （1）、spsel : (Stack Pointer Select)
![在这里插入图片描述](https://img-blog.csdnimg.cn/20201214184601403.png)

#### 2、SCR_EL3 ：（Secure Configuration Register）
![在这里插入图片描述](https://img-blog.csdnimg.cn/20201214185018148.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzNTA4Nw==,size_16,color_FFFFFF,t_70)
>- NS ：0-secure state,  1-NonSecure state
>- IRQ: 0-运行在EL3以下时irq不会target到EL3， 1-irq总是target到EL3
>- FIQ: 0-运行在EL3以下时fiq不会target到EL3， 1-fiq总是target到EL3
>- EA, bit [3] :
-- 0- 运行在EL3以下时External aborts和SError不会target到EL3，运行在EL3时Serror不会产生，External aborts target到EL3
-- 1-External aborts and SError target到EL3
>- SMD, bit [7]：0-smc指令在EL3/EL2/EL1中是enable， 1-smc指令是disable的
>- HCE, bit [8]：1-hvc指令在EL3/EL2/EL1中是enable， 0-hvc指令是disable的

#### 2、SCTLR：（System Control Register）
![在这里插入图片描述](https://img-blog.csdnimg.cn/20201216142959199.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzNTA4Nw==,size_16,color_FFFFFF,t_70)
>- UCI : 置1后,EL0可以在aarch64下访问 DC CVAU, DC CIVAC, DC CVAC,IC IVAU指令
>- EE：0-Little endian， 1-Big endian.
>- EOE：EL0显示的数据访问方式，0-Little endian， 1-Big endian.
>- WXN: 0-XN权限不开启，XN权限开启
>- nTWE： 1-WFE是正常的指令
>- nTWI： 1-WFI是正常的指令
>- UCT：1- EL0可以访问CTR_EL0
>- DZE：1-EL0可以访问cache的DC ZVA指令
>- I：Instruction cache enable
>- UMA ：EL0中断Mask（适用于aarch64）
>- SED：1-SETEND指令disabled（适用于aarch32）
>- ITD：1-IT指令disabled
>- CP15BEN: cp15 enable（适用于aarch32）
>- SA0 开启在EL0sp对齐检查
>- SA 开启sp对齐检查
>- C ：data cache enable
>- A : 对齐检查alignment check enable
>- M ： enable MMU

大小端的解释：
![在这里插入图片描述](https://img-blog.csdnimg.cn/2020121614471588.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzNTA4Nw==,size_16,color_FFFFFF,t_70)
XN权限：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20201216144807790.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzNTA4Nw==,size_16,color_FFFFFF,t_70)


#### 2、

#### 2、


#### 2、
#### 2、

#### 2、

#### 2、
#### 2、